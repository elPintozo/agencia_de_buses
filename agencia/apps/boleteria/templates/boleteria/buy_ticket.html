{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="row" id='app'>
        <div class="col-lg-6">
            <!-- List of sell tickets-->
            <div class="col-lg-12">
                <table class="table" id='app'>
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col">Trip</th>
                        <th scope="col">Route</th>
                        <th scope="col">Bus</th>
                        <th scope="col">Chauffeur</th>
                        <th scope="col">Schedule</th>
                        <th scope="col">Action's</th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr v-for="ticket_buy in list_tickets_buy" :key="ticket_buy.id">
                            <th scope="row">{$ ticket_buy.id $}</th>
                            <td>{$ ticket_buy.route $}</td>
                            <td>{$ ticket_buy.bus $}</td>
                            <td>{$ ticket_buy.chauffeur $}</td>
                            <td>{$ ticket_buy.schedule $}</td>
                            <td><button class="btn btn-primary btn-sm" v-on:click="buy_ticket(ticket_buy.id)">Buy</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- List of sold tickets-->
            <div class="col-lg-12">
                <table class="table" id='app'>
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col">Ticket ID</th>
                        <th scope="col">Seat number</th>
                        <th scope="col">Trip</th>
                        <th scope="col">passenger</th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr v-for="ticket_sold in list_sold_tickets" :key="ticket_sold.id">
                            <th scope="row">{$ ticket_sold.ticket_id $}</th>
                            <td>{$ ticket_sold.seat_number $}</td>
                            <td>{$ ticket_sold.route $}</td>
                            <td>{$ ticket_sold.passenger $}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Buy ticket's -->
        <div class="col-lg-6">
            <form v-if='show_buy_form'>
                <div class="form-group">
                  <label for="exampleFormControlInput1">DNI passenger</label>
                  <input type="text" class="form-control" v-model="dni_passenger" placeholder="Example 12345678-9" maxlength="10">
                </div>
                <div class="form-group">
                    <label for="exampleFormControlInput1">Seat number</label>
                    <input type="number" class="form-control" v-model="seat_number" placeholder="Example 10000" maxlength="2">
                  </div>
                <div class="form-group">
                    <button class="btn btn-primary btn-sm" v-on:click="pay_ticket()">Pay</button>
                </div>
              </form>
        </div>
    </div>

{% endblock content %}

{% block js %}
    <script src="{% static 'vue/apps/boleteria/ticket_buy.js' %}" ></script>
{% endblock js %}